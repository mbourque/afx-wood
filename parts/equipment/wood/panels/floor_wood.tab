BEGIN_ASM_DESCR

SEARCH_MDL_PARAM THIS PANEL_THICKNESS PANEL_THICKNESS
SEARCH_MDL_PARAM THIS OFF_LEFT OFF_LEFT
SEARCH_MDL_PARAM THIS OFF_RIGHT OFF_RIGHT
SEARCH_MDL_PARAM THIS OFF_BOTTOM OFF_BOTTOM
SEARCH_MDL_PARAM THIS OFF_TOP OFF_TOP
SEARCH_MDL_PARAM THIS OFF_T OFF_T
SEARCH_MDL_PARAM THIS ATTACH_OPTION ATTACH_OPTION

IF_1 ELEM_NEW
CONFIG_ELEM
END_IF_1

IF_2 ELEM_EXIST
USER_SELECT FACE LEFT_PLANE
USER_SELECT FACE RIGHT_PLANE
USER_SELECT FACE BOTTOM_PLANE
USER_SELECT FACE TOP_PLANE
USER_SELECT FACE ATTACH_PLANE
END_IF_2

MEASURE_DISTANCE_SIGN LEFT_PLANE RIGHT_PLANE DIST_LEFT_RIGHT
MEASURE_DISTANCE_SIGN BOTTOM_PLANE TOP_PLANE DIST_BOTTOM_TOP

IF_3 PARAM_GREATER DIST_LEFT_RIGHT 0
SEARCH_MDL_REF THIS PLANE YZ PLATE_YZ
END_IF_3
IF_4 PARAM_SMALLER DIST_LEFT_RIGHT 0
SEARCH_MDL_REF THIS PLANE YZ_LEFT PLATE_YZ
END_IF_4

IF_5 PARAM_GREATER DIST_BOTTOM_TOP 0
SEARCH_MDL_REF THIS PLANE XZ PLATE_XZ
END_IF_5
IF_6 PARAM_SMALLER DIST_BOTTOM_TOP 0
SEARCH_MDL_REF THIS PLANE XZ_LEFT PLATE_XZ
END_IF_6

SEARCH_MDL_REF THIS PLANE ATTACH_PLANE PLATE_ATTACH_PLANE


CREATE_UDF 2XPLANE_DIST_MEASURE ASSEMBLY PLATE_MEASURE
UDF_REF PLANE11 LEFT_PLANE
UDF_REF PLANE12 RIGHT_PLANE
UDF_REF PLANE21 BOTTOM_PLANE
UDF_REF PLANE22 TOP_PLANE
UDF_EXP_PARAM DISTANCE1
UDF_EXP_PARAM DISTANCE2
END_CREATE_UDF

REGEN_MDL THIS

ASSEMBLE THIS_MEASURECOPY
PLATE_MEASURE DISTANCE1 DISTANCE2
ALIGN LEFT_PLANE PLATE_YZ
ALIGN BOTTOM_PLANE PLATE_XZ
ALIGN_FLIP ATTACH_PLANE PLATE_ATTACH_PLANE
END_ASSEMBLE






END_ASM_DESCR


BEGIN_GUI_DESCR

GLOBAL_PICTURE floor_wood_tab.gif

USER_SELECT FACE LEFT_PLANE 1
USER_SELECT FACE RIGHT_PLANE 2
USER_SELECT FACE BOTTOM_PLANE 3
USER_SELECT FACE TOP_PLANE 4
USER_SELECT FACE ATTACH_PLANE 5

USER_INPUT_PARAM STRING ATTACH_OPTION
USER_INPUT_PARAM DOUBLE PANEL_THICKNESS
USER_INPUT_PARAM DOUBLE OFF_T
USER_INPUT_PARAM DOUBLE OFF_LEFT
USER_INPUT_PARAM DOUBLE OFF_RIGHT
USER_INPUT_PARAM DOUBLE OFF_BOTTOM
USER_INPUT_PARAM DOUBLE OFF_TOP

END_GUI_DESCR
