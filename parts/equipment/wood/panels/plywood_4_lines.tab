BEGIN_ASM_DESCR

SEARCH_MDL_PARAM THIS D_1 D_1
SEARCH_MDL_PARAM THIS D_2 D_2
SEARCH_MDL_PARAM THIS D_3 D_3
SEARCH_MDL_PARAM THIS D_4 D_4
SEARCH_MDL_PARAM THIS T T

IF_1 ELEM_NEW
  SEARCH_FEAT_PARAM COMP_FEAT ATTACH_OPTION ATTACH_OPTION
  CONFIG_ELEM
END_IF_1

IF_2 ELEM_EXIST
  SEARCH_FEAT_PARAM COMP_FEAT ATTACH_OPTION ATTACH_OPTION
  CONFIG_ELEM_EXIST
END_IF_2


SEARCH_MDL_PARAM_OPTIONAL THIS MINUS_T_HALF MINUS_T_HALF


IF_3 PARAM_VALID MINUS_T_HALF

SEARCH_MDL_REF THIS CSYS CS_FRONT COMP_CSYS

IF_31 PARAM_EQUAL ATTACH_OPTION 1
  SEARCH_MDL_PARAM THIS PARAM_0 Z_OFF
END_IF_31

IF_32 PARAM_EQUAL ATTACH_OPTION 2
  SEARCH_MDL_PARAM THIS MINUS_T_HALF Z_OFF
END_IF_32

IF_33 PARAM_EQUAL ATTACH_OPTION 3
  SEARCH_MDL_PARAM THIS MINUS_T Z_OFF
END_IF_33


IF_34 REF_TYPE LINE_1 CURVE

  IF_341 REF_TYPE LINE_2 EDGE
    BREAK_TRUE
  END_IF_341
  IF_342 REF_TYPE LINE_3 EDGE
    BREAK_TRUE
  END_IF_342
  IF_343 REF_TYPE LINE_4 EDGE
    BREAK_TRUE
  END_IF_343

  CREATE_UDF ref_csys_measure_4_curves_2 ASSEMBLY PLACEMENT_REF_UDF
    UDF_DIM Z_OFF Z_OFF
    UDF_REF CURVE_1 LINE_1
    UDF_REF CURVE_2 LINE_2
    UDF_REF CURVE_3 LINE_3
    UDF_REF CURVE_4 LINE_4
    UDF_EXP_REF REF_CSYS CSYS 2
    UDF_EXP_PARAM X1 X1
    UDF_EXP_PARAM X2 X2
    UDF_EXP_PARAM Y2 Y2
    UDF_EXP_PARAM X3 X3
    UDF_EXP_PARAM Y3 Y3
  END_CREATE_UDF

END_IF_34


IF_35 REF_TYPE LINE_1 EDGE

  IF_351 REF_TYPE LINE_2 CURVE
    BREAK_TRUE
  END_IF_351
  IF_352 REF_TYPE LINE_3 CURVE
    BREAK_TRUE
  END_IF_352
  IF_353 REF_TYPE LINE_4 CURVE
    BREAK_TRUE
  END_IF_353

  CREATE_UDF ref_csys_measure_4_edges_2 ASSEMBLY PLACEMENT_REF_UDF
    UDF_DIM Z_OFF Z_OFF
    UDF_REF EDGE_1 LINE_1
    UDF_REF EDGE_2 LINE_2
    UDF_REF EDGE_3 LINE_3
    UDF_REF EDGE_4 LINE_4
    UDF_EXP_REF REF_CSYS CSYS 2
    UDF_EXP_PARAM X1 X1
    UDF_EXP_PARAM X2 X2
    UDF_EXP_PARAM Y2 Y2
    UDF_EXP_PARAM X3 X3
    UDF_EXP_PARAM Y3 Y3
  END_CREATE_UDF

END_IF_35

REGEN_MDL THIS

ASSEMBLE THIS_MEASURECOPY
  PLACEMENT_REF_UDF X1 X2 Y2 X3 Y3
  CSYS REF_CSYS COMP_CSYS
END_ASSEMBLE

SET_FEAT_PARAM COMP_FEAT ATTACH_OPTION ATTACH_OPTION

END_IF_3



IF_4 PARAM_INVALID MINUS_T_HALF

SEARCH_MDL_REF THIS CSYS CS_FRONT COMP_CSYS

IF_41 PARAM_EQUAL ATTACH_OPTION 1
  SEARCH_MDL_REF THIS CSYS CS_FRONT COMP_CSYS
END_IF_41

IF_42 PARAM_EQUAL ATTACH_OPTION 2
  SEARCH_MDL_REF THIS CSYS CS_CENTER COMP_CSYS
END_IF_42

IF_43 PARAM_EQUAL ATTACH_OPTION 3
  SEARCH_MDL_REF THIS CSYS CS_BACK COMP_CSYS
END_IF_43

IF_44 REF_TYPE LINE_1 CURVE

  IF_441 REF_TYPE LINE_2 EDGE
    BREAK_TRUE
  END_IF_441
  IF_442 REF_TYPE LINE_3 EDGE
    BREAK_TRUE
  END_IF_442
  IF_443 REF_TYPE LINE_4 EDGE
    BREAK_TRUE
  END_IF_443

  CREATE_UDF ref_csys_measure_4_curves ASSEMBLY PLACEMENT_REF_UDF
    UDF_REF CURVE_1 LINE_1
    UDF_REF CURVE_2 LINE_2
    UDF_REF CURVE_3 LINE_3
    UDF_REF CURVE_4 LINE_4
    UDF_EXP_REF REF_CSYS CSYS 1
    UDF_EXP_PARAM X1 X1
    UDF_EXP_PARAM X2 X2
    UDF_EXP_PARAM Y2 Y2
    UDF_EXP_PARAM X3 X3
    UDF_EXP_PARAM Y3 Y3
  END_CREATE_UDF

END_IF_44


IF_45 REF_TYPE LINE_1 EDGE

  IF_451 REF_TYPE LINE_2 CURVE
    BREAK_TRUE
  END_IF_451
  IF_452 REF_TYPE LINE_3 CURVE
    BREAK_TRUE
  END_IF_452
  IF_453 REF_TYPE LINE_4 CURVE
    BREAK_TRUE
  END_IF_453

  CREATE_UDF ref_csys_measure_4_edges ASSEMBLY PLACEMENT_REF_UDF
    UDF_REF EDGE_1 LINE_1
    UDF_REF EDGE_2 LINE_2
    UDF_REF EDGE_3 LINE_3
    UDF_REF EDGE_4 LINE_4
    UDF_EXP_REF REF_CSYS CSYS 1
    UDF_EXP_PARAM X1 X1
    UDF_EXP_PARAM X2 X2
    UDF_EXP_PARAM Y2 Y2
    UDF_EXP_PARAM X3 X3
    UDF_EXP_PARAM Y3 Y3
  END_CREATE_UDF

END_IF_45

REGEN_MDL THIS

ASSEMBLE THIS_MEASURECOPY
  PLACEMENT_REF_UDF X1 X2 Y2 X3 Y3
  CSYS REF_CSYS COMP_CSYS
END_ASSEMBLE

END_IF_4



END_ASM_DESCR



BEGIN_GUI_DESCR

GLOBAL_PICTURE plywood_4_lines_tab.png

USER_SELECT CURVE_EDGE LINE_1 1
USER_SELECT CURVE_EDGE LINE_2 2
USER_SELECT CURVE_EDGE LINE_3 3
USER_SELECT CURVE_EDGE LINE_4 4

USER_INPUT_PARAM DOUBLE T
USER_INPUT_PARAM DOUBLE D_1
USER_INPUT_PARAM DOUBLE D_2
USER_INPUT_PARAM DOUBLE D_3
USER_INPUT_PARAM DOUBLE D_4
USER_INPUT_PARAM DOUBLE ATTACH_OPTION 1

END_GUI_DESCR


BEGIN_GUI_DESCR_EXIST

GLOBAL_PICTURE plywood_4_lines_tab.png

USER_SELECT CURVE_EDGE LINE_1 1
USER_SELECT CURVE_EDGE LINE_2 2
USER_SELECT CURVE_EDGE LINE_3 3
USER_SELECT CURVE_EDGE LINE_4 4

USER_INPUT_PARAM DOUBLE ATTACH_OPTION

END_GUI_DESCR_EXIST


BEGIN_GUI_DESCR_MODIFY

GLOBAL_PICTURE plywood_4_lines_tab.png

USER_INPUT_PARAM DOUBLE T
USER_INPUT_PARAM DOUBLE D_1
USER_INPUT_PARAM DOUBLE D_2
USER_INPUT_PARAM DOUBLE D_3
USER_INPUT_PARAM DOUBLE D_4
USER_INPUT_PARAM_INACTIVE_MODIFY_ALL DOUBLE ATTACH_OPTION

END_GUI_DESCR_MODIFY






